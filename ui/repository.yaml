repository:
  name: "VIR Data Repository"
  version: "1.0.0"
  description: "Repository of ETL reports for VIR data cleaning process."

reports:
  - id: "vir10_agg"
    title: "VIR10 - Aggregált Adattisztítás"
    description: "Összesített statisztikák az XML fájlok feldolgozottságáról és az adattisztítás állapotáról."
    table_name: "vir_vir10"
    schema: "vir"
    view_type: "aggregate"
    columns:
      - name: "id"
        label: "ID"
        type: "int"
        filterable: false
        hidden: true
      - name: "partnum"
        label: "Partíció #"
        type: "int"
        filterable: true
        hidden: true
      - name: "letda"
        label: "Időpont"
        type: "timestamp"
        sortable: true
      - name: "xml_fajl_feldolgozas_allapota"
        label: "Feldolgozás Állapota"
        type: "string"
        filterable: true
      - name: "adattisztitas_allapota"
        label: "Tisztítás Állapota"
        type: "string"
        filterable: true
      - name: "felelos_felhasznalo"
        label: "Felelős"
        type: "string"
        filterable: true
      - name: "cimke"
        label: "Címke"
        type: "string"
        filterable: true
      - name: "darab"
        label: "Darabszám"
        type: "int"
        aggregate_func: "sum"

  - id: "vir11_agg"
    title: "VIR11 - Aggregált Adattisztítás (EMAR)"
    description: "Összesített statisztikák EMAR azonosítók alapján."
    table_name: "vir_vir11"
    schema: "vir"
    view_type: "aggregate"
    columns:
      - name: "id"
        label: "ID"
        type: "int"
        filterable: false
        hidden: true
      - name: "partnum"
        label: "Partíció #"
        type: "int"
        hidden: true
      - name: "letda"
        label: "Időpont"
        type: "timestamp"
      - name: "xml_fajl_feldolgozas_allapota"
        label: "Feldolgozás Állapota"
        type: "string"
      - name: "adattisztitas_allapota"
        label: "Tisztítás Állapota"
        type: "string"
      - name: "felelos_felhasznalo"
        label: "Felelős"
        type: "string"
      - name: "darab"
        label: "Darabszám"
        type: "int"

  - id: "vir10_details"
    title: "VIR10 - Részletes Adatok"
    description: "Egyedi rekordok listája a VIR10 tisztítási folyamatból."
    table_name: "vir_vir10_d"
    schema: "vir"
    view_type: "detail"
    parent_report: "vir10_agg"
    parent_column: "id"
    columns:
      - name: "id"
        label: "ID"
        type: "int"
        hidden: true
      - name: "emar_id"
        label: "EMAR ID"
        type: "string"
      - name: "xml_fajl_neve"
        label: "Fájlnév"
        type: "string"
      - name: "eljaras_azonosito"
        label: "Eljárás AZ"
        type: "string"
      - name: "fedonev"
        label: "Fedőnév"
        type: "string"
      - name: "nev"
        label: "Név"
        type: "string"
      - name: "cimke"
        label: "Címke"
        type: "string"
      - name: "nemzetiseg"
        label: "Nemzetiség"
        type: "string"
      - name: "allampolgarsag"
        label: "Állampolgárság"
        type: "string"
      - name: "hiba_oka"
        label: "Hiba Oka"
        type: "string"

  - id: "vir11_details"
    title: "VIR11 - Részletes Adatok (EMAR)"
    description: "Egyedi rekordok listája a VIR11 tisztítási folyamatból."
    table_name: "vir_vir11_d"
    schema: "vir"
    view_type: "detail"
    parent_report: "vir11_agg"
    parent_column: "id"
    columns:
      - name: "id"
        label: "ID"
        type: "int"
        hidden: true
      - name: "emar_id"
        label: "EMAR ID"
        type: "string"
      - name: "xml_fajl_neve"
        label: "Fájlnév"
        type: "string"
      - name: "fedonev"
        label: "Fedőnév"
        type: "string"
      - name: "nev"
        label: "Név"
        type: "string"
      - name: "cimke"
        label: "Címkék (Összefűzve)"
        type: "string"
      - name: "nemzetiseg"
        label: "Nemzetiség"
        type: "string"
      - name: "allampolgarsag"
        label: "Állampolgárság"
        type: "string"

